"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3687],{3687:(Z,u,s)=>{s.r(u),s.d(u,{LoginPageModule:()=>v});var p=s(6814),r=s(95),i=s(1929),d=s(335),c=s(5861),e=s(6689),f=s(9682);function h(t,l){1&t&&(e.TgZ(0,"ion-note",15),e._uU(1," Email is invalid "),e.qZA())}function y(t,l){1&t&&(e.TgZ(0,"ion-note",15),e._uU(1," Password needs to contain a minimum of 6 characters "),e.qZA())}const P=[{path:"",component:(()=>{var t;class l{constructor(n,o,a,m,x){this.fb=n,this.loadingController=o,this.alertController=a,this.authService=m,this.router=x,this.credentials=this.fb.nonNullable.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.minLength(6)]]})}get email(){return this.credentials.controls.email}get password(){return this.credentials.controls.password}register(){var n=this;return(0,c.Z)(function*(){const o=yield n.loadingController.create();yield o.present();const a=yield n.authService.register(n.credentials.getRawValue());console.log("\u{1f680} ~ file: login.page.ts:50 ~ LoginPage ~ register ~ user",a),yield o.dismiss(),a?n.router.navigateByUrl("/home",{replaceUrl:!0}):n.showAlert("Registration failed","Please try again!")})()}login(){var n=this;return(0,c.Z)(function*(){const o=yield n.loadingController.create();yield o.present();const a=yield n.authService.login(n.credentials.getRawValue());console.log("\u{1f680} ~ file: login.page.ts:73 ~ LoginPage ~ login ~ user",a),yield o.dismiss(),a?n.router.navigateByUrl("/home",{replaceUrl:!0}):n.showAlert("Login failed","Please try again!")})()}sendReset(){var n=this;return(0,c.Z)(function*(){const o=yield n.loadingController.create();yield o.present(),yield n.authService.resetPw(n.email.value),yield o.dismiss(),n.showAlert("Password reset","Check your inbox for the password reset link")})()}showAlert(n,o){var a=this;return(0,c.Z)(function*(){yield(yield a.alertController.create({header:n,message:o,buttons:["OK"]})).present()})()}}return(t=l).\u0275fac=function(n){return new(n||t)(e.Y36(r.qu),e.Y36(i.HT),e.Y36(i.Br),e.Y36(f.e),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:27,vars:6,consts:[["fullscreen","",1,"login-page-background"],[1,"background-image-container"],["src","assets/Olympus2.jpg","alt","Background",1,"background-image"],[1,"login-wrapper"],[1,"login-logo-container"],["src","assets/HerculethesLogo.png","alt","App Logo",1,"login-logo"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"ion-margin-bottom"],["position","floating"],["type","email","formControlName","email"],["class","error-note",4,"ngIf"],["type","password","formControlName","password"],["type","submit","expand","block",3,"disabled"],["type","button","expand","block","color","secondary",3,"disabled","click"],["expand","block","color","tertiary",3,"disabled","click"],[1,"error-note"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Herculethes"),e.qZA()()(),e.TgZ(4,"ion-content",0)(5,"div",1),e._UZ(6,"img",2),e.qZA(),e.TgZ(7,"div",3)(8,"div",4),e._UZ(9,"img",5),e.qZA(),e.TgZ(10,"form",6),e.NdJ("ngSubmit",function(){return o.login()}),e.TgZ(11,"ion-item",7)(12,"ion-label",8),e._uU(13,"Email"),e.qZA(),e._UZ(14,"ion-input",9),e.qZA(),e.YNc(15,h,2,0,"ion-note",10),e.TgZ(16,"ion-item",7)(17,"ion-label",8),e._uU(18,"Password"),e.qZA(),e._UZ(19,"ion-input",11),e.qZA(),e.YNc(20,y,2,0,"ion-note",10),e.TgZ(21,"ion-button",12),e._uU(22," Log in "),e.qZA(),e.TgZ(23,"ion-button",13),e.NdJ("click",function(){return o.register()}),e._uU(24," Register for Account "),e.qZA(),e.TgZ(25,"ion-button",14),e.NdJ("click",function(){return o.sendReset()}),e._uU(26," Reset Password "),e.qZA()()()()),2&n&&(e.xp6(10),e.Q6J("formGroup",o.credentials),e.xp6(5),e.Q6J("ngIf",(o.email.dirty||o.email.touched)&&o.email.errors),e.xp6(5),e.Q6J("ngIf",(o.password.dirty||o.password.touched)&&o.password.errors),e.xp6(1),e.Q6J("disabled",!o.credentials.valid),e.xp6(2),e.Q6J("disabled",!o.credentials.valid),e.xp6(2),e.Q6J("disabled",o.email.invalid))},dependencies:[p.O5,r._Y,r.JJ,r.JL,i.YG,i.W2,i.Gu,i.pK,i.Ie,i.Q$,i.uN,i.wd,i.sr,i.j9,r.sg,r.u],styles:[".background-image-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;overflow:hidden}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.login-wrapper[_ngcontent-%COMP%]{border:3px solid black;padding:32px;border-radius:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;height:80%;text-align:center;width:100%;max-width:400px;margin-top:50px;margin-left:auto;margin-right:auto;z-index:10}.login-logo-container[_ngcontent-%COMP%]{margin-bottom:32px}.login-logo[_ngcontent-%COMP%]{max-width:450px;height:auto;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]{width:100%;max-width:400px}.error-note[_ngcontent-%COMP%]{display:block;color:var(--ion-color-danger);text-align:left;padding-left:10px;padding-top:5px}ion-note.error-note[_ngcontent-%COMP%]{font-size:.8em;color:#f53d3d}ion-button[_ngcontent-%COMP%]{margin-top:8px}ion-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}ion-title[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:24px}ion-content[_ngcontent-%COMP%]{position:relative}ion-toolbar[_ngcontent-%COMP%]{--background: #ffffff}ion-title[_ngcontent-%COMP%]{color:#fc0;font-family:Bebas Neue,sans-serif;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-size:36px}"]}),l})()}];let b=(()=>{var t;class l{}return(t=l).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(P),d.Bz]}),l})(),v=(()=>{var t;class l{}return(t=l).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,r.u5,i.Pc,b,r.UX]}),l})()}}]);